{"version":3,"file":"component---src-templates-profile-js-de42e461699261e04865.js","mappings":"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","sources":["webpack://space-budz/./secrets.js","webpack://space-budz/./src/templates/profile-crypter.js","webpack://space-budz/./src/templates/profile.js"],"sourcesContent":["const PROJECT_ID=\"mainnet3eI2HGY9oDPZkQveItihr5lIP94sWWtF\"\r\n// const PROJECT_ID=\"testnetL0riA5tMipy3cQ45FjldsEdTSTuClr8V\"\r\n\r\nlet secrets = {\r\n    PROJECT_ID: PROJECT_ID\r\n}\r\n\r\nexport default secrets;\r\n","import React from \"react\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport Header from '../layout/Header';\r\nimport Footer from '../layout/Footer';\r\nimport { StoreProvider } from \"easy-peasy\";\r\nimport store from \"../store\";\r\nimport Card from \"./card-item\";\r\nimport { useStoreState } from \"easy-peasy\";\r\nimport { BeatLoader } from \"react-spinners\";\r\nimport Icon from \"@mdi/react\";\r\nimport secrets from \"../../secrets\";\r\nimport { Spinner } from \"@chakra-ui/spinner\";\r\nimport Loader from \"../cardano/loader\";\r\nimport InfiniteGrid from \"../components/InfiniteGrid\";\r\n\r\nconst POLICY = \"3c2cfd4f1ad33678039cfd0347cca8df363c710067d739624218abc0\"; \r\n\r\nfunction fromHex(hex) {\r\n  var str = \"\";\r\n  for (var i = 0; i < hex.length && hex.substr(i, 2) !== \"00\"; i += 2)\r\n    str += String.fromCharCode(parseInt(hex.substr(i, 2), 16));\r\n  return str;\r\n}\r\n\r\nconst valueToAssets = (value) => {\r\n  const assets = [];\r\n  assets.push({ unit: \"lovelace\", quantity: value.coin().to_str() });\r\n  if (value.multiasset()) {\r\n    const multiAssets = value.multiasset().keys();\r\n    for (let j = 0; j < multiAssets.len(); j++) {\r\n      const policy = multiAssets.get(j);\r\n      const policyAssets = value.multiasset().get(policy);\r\n      const assetNames = policyAssets.keys();\r\n      for (let k = 0; k < assetNames.len(); k++) {\r\n        const policyAsset = assetNames.get(k);\r\n        const quantity = policyAssets.get(policyAsset);\r\n        const asset =\r\n          Buffer.from(policy.to_bytes(), \"hex\").toString(\"hex\") +\r\n          Buffer.from(policyAsset.name(), \"hex\").toString(\"hex\");\r\n        assets.push({\r\n          unit: asset,\r\n          quantity: quantity.to_str(),\r\n        });\r\n      }\r\n    }\r\n  }\r\n  return assets;\r\n};\r\n\r\nconst Cards = (props) => {   \r\n   let card_elems = [];   \r\n   let start_index = 0;\r\n   let end_index = props.filtered.length - 1;\r\n   for (var i = start_index; i <= end_index; i++) {\r\n\t    let world_nft = props.filtered[i];\t\t\r\n\t\tif(world_nft) {\r\n\t\t\tif(world_nft.id) {\r\n\t\t\t\tcard_elems.push(<Card world={world_nft} key={i} />);\r\n\t\t\t}\r\n\t\t}\r\n   }       \r\n   return(card_elems);\r\n};\r\n\r\nconst Profile = (props) => {\r\n  const spacebudz = props.spacebudz; \t\r\n  \r\n  const [address, setAddress] = React.useState(\"\");\r\n  const [tokens, setTokens] = React.useState({\r\n    owned: [],\r\n    bids: [],\r\n    offers: [],\r\n  });\r\n  const [isLoading, setIsLoading] = React.useState(true);\r\n  const connected = useStoreState((state) => state.connection.connected);\r\n  const didMount = React.useRef(false);\r\n  const isFirstConnect = React.useRef(true);\r\n  const fetchAddressBudz = async (address) => {\r\n    setIsLoading(true);\r\n    setTokens(null);\r\n    const tokens = { owned: [], bids: [], offers: [] };\r\n    let amount;\r\n\r\n    const connectedAddresses = connected\r\n      ? (await window.cardano.selectedWallet.getUsedAddresses()).map((addr) =>\r\n          Loader.Cardano.Address.from_bytes(\r\n            Buffer.from(addr, \"hex\")\r\n          ).to_bech32()\r\n        )\r\n      : [];\r\n\r\n    const isOwner = (address) =>\r\n      connectedAddresses.length > 0\r\n        ? connectedAddresses.some((addr) => addr === address)\r\n        : false;\r\n\r\n    if (connected === address) {\r\n      await Loader.load();\r\n      const value = Loader.Cardano.Value.from_bytes(\r\n        Buffer.from(await window.cardano.selectedWallet.getBalance(), \"hex\")\r\n      );\r\n\r\n      amount = valueToAssets(value);\r\n    } else {\r\n      amount = await fetch(\r\n        `https://cardano-mainnet.blockfrost.io/api/v0/addresses/${address}`, // TODO\r\n        { headers: { project_id: secrets.PROJECT_ID } }\r\n      )\r\n        .then((res) => res.json())\r\n        .then((res) => res.amount);\r\n    }\r\n\t\r\n\t// FOR TESTING (GET ALL UTXOs for an address) ================================\r\n\t/* \r\n\tlet stake_address = \"stake1u8cs4pj8cmldza4c8d69a8f8ylu3l69udngfqmgr9c9y9qsmjj8xm\";\r\n\tconst test_log = await fetch(\r\n        `https://cardano-mainnet.blockfrost.io/api/v0/addresses/${address}/utxos`, // TODO\r\n        { headers: { project_id: secrets.PROJECT_ID } }\r\n      )\r\n        .then((res) => res.json());\r\n\tconsole.log(\"Test Output\");\r\n\tconsole.log(test_log);\r\n\t*/\r\n\t// END TESTING =======================================\r\n\r\n    const offers = await fetch(`https://spacebudz.io/api/offers/`, { // TODO - either remove these, or replace the logic.\r\n      headers: { project_id: secrets.PROJECT_ID },\r\n    }).then((res) => res.json());\r\n\r\n    const bids = await fetch(`https://spacebudz.io/api/bids`, {\r\n      headers: { project_id: secrets.PROJECT_ID },\r\n    }).then((res) => res.json());\r\n\r\n    tokens.offers = offers.offers\r\n      .filter(\r\n        (offer) =>\r\n          offer.offer.owner == address ||\r\n          (connected === address && isOwner(offer.offer.owner))\r\n      )\r\n      .map((offer) => {\r\n        const bidPrice = bids.bids.find((bid) => bid.budId == offer.budId);\r\n        return {\r\n          ...spacebudz[offer.budId],\r\n          listingPrice: offer.offer.amount,\r\n          bidPrice: bidPrice ? bidPrice.bid.amount : undefined,\r\n        };\r\n      });\r\n\r\n    tokens.bids = bids.bids\r\n      .filter(\r\n        (bid) =>\r\n          bid.bid.owner == address ||\r\n          (connected === address && isOwner(bid.bid.owner))\r\n      )\r\n      .map((bid) => {\r\n        const listingPrice = offers.offers.find(\r\n          (offer) => offer.budId == bid.budId\r\n        );\r\n        return {\r\n          ...spacebudz[bid.budId],\r\n          bidPrice: bid.bid.amount,\r\n          listingPrice: listingPrice ? listingPrice.offer.amount : undefined,\r\n        };\r\n      });\r\n\t\r\n    try {\t\t\r\n      const ownedAmount = amount.filter((am) => am.unit.startsWith(POLICY)).map((am) =>  {\t\r\n\t\t\tconsole.log(fromHex(am.unit.slice(56)));\r\n\t\t\tparseInt(fromHex(am.unit.slice(56)).split(\"WorldsWithin\")[1])\r\n\t  });\r\n      const owned = ownedAmount.map((id) => {\t\t\r\n        const bidPrice = bids.bids.find((bid) => bid.budId == id);\r\n        return {\r\n          ...spacebudz[id-1],\r\n          bidPrice: bidPrice ? bidPrice.bid.amount : undefined,\r\n        };\r\n      });\r\n      tokens.owned = owned;\r\n    } catch (e) {}\r\n    setTokens(tokens);\r\n    setIsLoading(false);\r\n  };\r\n  const update = async () => {\r\n    const address =\r\n      typeof window !== \"undefined\" &&\r\n      new URL(window.location.href).searchParams.get(\"address\");\r\n    setAddress(address);\r\n    fetchAddressBudz(address);\r\n  };\r\n  \r\n  React.useEffect(() => { \r\n\tconst script = document.createElement(\"script\");\r\n\tscript.src = process.env.SITE_ROOT+\"js/app.js\";\r\n\t/* script.async = true;\t*/\r\n\tdocument.body.appendChild(script);\t\r\n  }, []);\r\n  \r\n  React.useEffect(() => {\r\n    if (didMount.current) {\r\n      if (connected && !isFirstConnect.current)\r\n        window.history.pushState({}, null, `/profile?address=${connected}`);\r\n      else isFirstConnect.current = false;\r\n    } else didMount.current = true;\r\n    window.scrollTo(0, 0);\r\n    update();\r\n  }, [connected]);\r\n  \r\n  React.useEffect(() => {\r\n    let url = window.location.href;\r\n    const urlChange = setInterval(() => {\r\n      const newUrl = window.location.href;\r\n      if (url !== newUrl) {\r\n        url = newUrl;\r\n        update();\r\n      }\r\n    });\r\n    return () => clearInterval(urlChange);\r\n  }, []);\r\n  \r\n  \r\n  \r\n  return (\r\n    <StoreProvider store={store}>\t\t\r\n\t\t{/* Body */}\r\n\t\t<div className=\"outer__inner\">\r\n\t\t\t<div className=\"profile\">\r\n\t\t\t  <div className=\"profile__head js-profile-head\" style={{backgroundImage: `url('${process.env.SITE_ROOT}img/content/bg-profile.jpg')`}}>\r\n\t\t\t\t<div className=\"profile__center center\">\r\n\t\t\t\t  <div className=\"profile__file\">\r\n\t\t\t\t\t<input type=\"file\" />\r\n\t\t\t\t\t<div className=\"profile__wrap\">\r\n\t\t\t\t\t  <svg className=\"icon icon-upload-file\">\r\n\t\t\t\t\t\t<use xlinkHref=\"#icon-upload-file\"></use>\r\n\t\t\t\t\t  </svg>\r\n\t\t\t\t\t  <div className=\"profile__info\">Drag and drop your photo here</div>\r\n\t\t\t\t\t  <div className=\"profile__text\">or click to browse</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<button className=\"button-small profile__button js-profile-save\">Save photo</button>\r\n\t\t\t\t  </div>\r\n\t\t\t\t  {/*\r\n\t\t\t\t  <div className=\"profile__btns\">\r\n\t\t\t\t\t<button className=\"button-stroke button-small profile__button js-profile-load\"><span>Edit cover photo</span>\r\n\t\t\t\t\t  <svg className=\"icon icon-edit\">\r\n\t\t\t\t\t\t<use xlinkHref=\"#icon-edit\"></use>\r\n\t\t\t\t\t  </svg>\r\n\t\t\t\t\t</button><a className=\"button-stroke button-small profile__button\" href=\"profile-edit.html\"> <span>Edit profile</span>\r\n\t\t\t\t\t  <svg className=\"icon icon-image\">\r\n\t\t\t\t\t\t<use xlinkHref=\"#icon-image\"></use>\r\n\t\t\t\t\t  </svg></a>\r\n\t\t\t\t  </div>\r\n\t\t\t\t  */}\r\n\t\t\t\t</div>\r\n\t\t\t  </div>\r\n\t\t\t  <div className=\"profile__body\">\r\n\t\t\t\t<div className=\"profile__center center\">\r\n\t\t\t\t  <div className=\"user\">\r\n\t\t\t\t\t<div className=\"user__avatar\"><img src={process.env.SITE_ROOT+\"img/icon-owner.png\"} alt=\"Avatar\"/></div>\t\t\t\t\t\r\n\t\t\t\t\t<div className=\"user__code\">\r\n\t\t\t\t\t  <div className=\"user__number\" onClick={() =>\r\n\t\t\t\t\t\twindow.open(`https://cardanoscan.io/address/${address}`)\r\n\t\t\t\t\t  } style={{cursor:'pointer'}}>{address}</div>\r\n\t\t\t\t\t  <button className=\"user__copy\">\r\n\t\t\t\t\t\t<svg className=\"icon icon-copy\">\r\n\t\t\t\t\t\t  <use xlinkHref=\"#icon-copy\"></use>\r\n\t\t\t\t\t\t</svg>\r\n\t\t\t\t\t  </button>\r\n\t\t\t\t\t</div>\t\t\t\t\t\r\n\t\t\t\t  </div>\r\n\t\t\t\t  <div className=\"profile__wrapper js-tabs\">\r\n\t\t\t\t\t<div className=\"profile__nav\">\r\n\t\t\t\t\t\t<a className=\"profile__link js-tabs-link active\" href=\"#\">Open Bids ({!isLoading ? tokens.bids.length : \"...\"})</a>\r\n\t\t\t\t\t\t<a className=\"profile__link js-tabs-link\" href=\"#\">Listed ({!isLoading ? tokens.offers.length : \"...\"})</a>\r\n\t\t\t\t\t\t<a className=\"profile__link js-tabs-link\" href=\"#\">Owned ({!isLoading ? tokens.owned.length + tokens.offers.length : \"...\"})</a></div>\r\n\t\t\t\t\t<div className=\"profile__container\">\r\n\t\t\t\t\t  <div className=\"profile__item js-tabs-item\" style={{ display: \"block\"}}>\r\n\t\t\t\t\t\t<div className=\"profile__list\">\r\n\t\t\t\t\t\t  {isLoading \r\n\t\t\t\t\t\t   ? <img src={process.env.SITE_ROOT+\"img/loader.gif\"} alt=\"Loader\"/>\r\n\t\t\t\t\t\t   : <Cards filtered={tokens.bids} />\r\n\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t</div>\t\t\t\t\t\t\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t  <div className=\"profile__item js-tabs-item\">\r\n\t\t\t\t\t\t<div className=\"profile__list\">\r\n\t\t\t\t\t\t  {isLoading \r\n\t\t\t\t\t\t   ? <img src={process.env.SITE_ROOT+\"img/loader.gif\"} alt=\"Loader\"/>\r\n\t\t\t\t\t\t   : <Cards filtered={tokens.offers} />\r\n\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t</div>\t\r\n\t\t\t\t\t  </div>\r\n\t\t\t\t\t  <div className=\"profile__item js-tabs-item\">\r\n\t\t\t\t\t\t<div className=\"profile__list\">\r\n\t\t\t\t\t\t  {isLoading \r\n\t\t\t\t\t\t   ? <img src={process.env.SITE_ROOT+\"img/loader.gif\"} alt=\"Loader\"/>\r\n\t\t\t\t\t\t   : <Cards filtered={tokens.owned} />\r\n\t\t\t\t\t\t  }\r\n\t\t\t\t\t\t</div>\t\r\n\t\t\t\t\t  </div>\t\t\t\t\t  \t\t\t  \r\n\t\t\t\t\t</div>\r\n\t\t\t\t  </div>\r\n\t\t\t\t</div>\r\n\t\t\t  </div>\r\n\t\t\t</div>\r\n\t\t</div>\t\t\r\n\t</StoreProvider>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","import React from \"react\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport Header from '../layout/Header';\r\nimport Footer from '../layout/Footer';\r\nimport { StoreProvider } from \"easy-peasy\";\r\nimport store from \"../store\";\r\nimport Profile from \"./profile-crypter\";\r\n\r\nconst Profile_Layout = ({ pageContext: { spacebudz } }) => {\r\n  return (\r\n    <StoreProvider store={store}>\r\n\t  <Helmet>\r\n            <title>Worlds Within Marketplace</title>\t\t\t\r\n\t\t\t<link rel=\"preconnect\" href=\"https://fonts.gstatic.com\"/>\r\n\t\t\t<link href=\"https://fonts.googleapis.com/css2?family=DM+Sans:wght@700&amp;family=Poppins:wght@400;500;600;700&amp;display=swap\" rel=\"stylesheet\"/>\r\n\t\t\t<link rel=\"stylesheet\" media=\"all\" href={process.env.SITE_ROOT + \"css/app.min.css\"}/>\r\n\t\t\t<link rel=\"stylesheet\" media=\"all\" href={process.env.SITE_ROOT + \"css/overrides.css\"}/>\r\n\t\t\t<script>{`var viewportmeta = document.querySelector('meta[name=\"viewport\"]');\r\n\t\t\t  if (viewportmeta) {\r\n\t\t\t\tif (screen.width < 375) {\r\n\t\t\t\t  var newScale = screen.width / 375;\r\n\t\t\t\t  viewportmeta.content = 'width=375, minimum-scale=' + newScale + ', maximum-scale=1.0, user-scalable=no, initial-scale=' + newScale + '';\r\n\t\t\t\t} else {\r\n\t\t\t\t  viewportmeta.content = 'width=device-width, maximum-scale=1.0, initial-scale=1.0';\r\n\t\t\t\t}\r\n\t\t\t  }`}</script>\t\t\t\r\n      </Helmet>\r\n\t  <Header />\r\n      <Profile spacebudz={spacebudz} />\r\n\t  <Footer />\r\n    </StoreProvider>\r\n  );\r\n};\r\n\r\nexport default Profile_Layout;\r\n"],"names":["secrets","PROJECT_ID","fromHex","hex","str","i","length","substr","String","fromCharCode","parseInt","valueToAssets","value","assets","push","unit","quantity","coin","to_str","multiasset","multiAssets","keys","j","len","policy","get","policyAssets","assetNames","k","policyAsset","asset","Buffer","from","to_bytes","toString","name","Cards","props","card_elems","end_index","filtered","world_nft","id","world","key","spacebudz","React","address","setAddress","owned","bids","offers","tokens","setTokens","isLoading","setIsLoading","connected","useStoreState","state","connection","didMount","isFirstConnect","fetchAddressBudz","window","cardano","selectedWallet","getUsedAddresses","map","addr","Loader","to_bech32","connectedAddresses","isOwner","some","getBalance","from_bytes","amount","fetch","headers","project_id","then","res","json","filter","offer","owner","bidPrice","find","bid","budId","listingPrice","undefined","ownedAmount","am","startsWith","console","log","slice","split","e","update","URL","location","href","searchParams","script","document","createElement","src","process","body","appendChild","current","history","pushState","scrollTo","url","urlChange","setInterval","newUrl","clearInterval","StoreProvider","store","className","style","backgroundImage","type","xlinkHref","alt","onClick","open","cursor","display","pageContext","Helmet","rel","media","Header","Footer"],"sourceRoot":""}